

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>xLearn Command Line Guide &mdash; xLearn 0.1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="xLearn 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="xLearn Python API Guide" href="python_api.html"/>
        <link rel="prev" title="Install GCC or Clang" href="install_cmake.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> xLearn
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">xLearn Command Line Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#choose-machine-learning-model">Choose Machine Learning Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-validation-dataset">Set Validation Dataset</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python_api.html">xLearn Python API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo.html">xLearn Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">xLearn Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">xLearn</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>xLearn Command Line Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/command_line.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xlearn-command-line-guide">
<h1>xLearn Command Line Guide<a class="headerlink" href="#xlearn-command-line-guide" title="Permalink to this headline">¶</a></h1>
<p>Once you built xLearn from source code successfully, you will get two executable files
<code class="docutils literal"><span class="pre">xlearn_train</span></code> and <code class="docutils literal"><span class="pre">xlearn_predict</span></code> in your <code class="docutils literal"><span class="pre">build</span></code> directory. Now you can use these
two executable files to perform training and prediction task.</p>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<p>Make sure that you are in the <code class="docutils literal"><span class="pre">build</span></code> directory of xLearn, and you will find the demo data
<code class="docutils literal"><span class="pre">small_test.txt</span></code> and <code class="docutils literal"><span class="pre">small_train.txt</span></code> in this directory. Now you can type the following
command to train a model</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">xlearn_train</span> <span class="o">./</span><span class="n">small_train</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Here, we show a portion of the xLearn’s output</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Epoch</span>      <span class="n">Train</span> <span class="n">log_loss</span>     <span class="n">Time</span> <span class="n">cost</span> <span class="p">(</span><span class="n">sec</span><span class="p">)</span>
    <span class="mi">1</span>            <span class="mf">0.567514</span>                <span class="mf">0.00</span>
    <span class="mi">2</span>            <span class="mf">0.516861</span>                <span class="mf">0.00</span>
    <span class="mi">3</span>            <span class="mf">0.489884</span>                <span class="mf">0.00</span>
    <span class="mi">4</span>            <span class="mf">0.469971</span>                <span class="mf">0.00</span>
    <span class="mi">5</span>            <span class="mf">0.452699</span>                <span class="mf">0.00</span>
    <span class="mi">6</span>            <span class="mf">0.437590</span>                <span class="mf">0.00</span>
    <span class="mi">7</span>            <span class="mf">0.425759</span>                <span class="mf">0.00</span>
    <span class="mi">8</span>            <span class="mf">0.415190</span>                <span class="mf">0.00</span>
    <span class="mi">9</span>            <span class="mf">0.405954</span>                <span class="mf">0.00</span>
   <span class="mi">10</span>            <span class="mf">0.396313</span>                <span class="mf">0.00</span>
</pre></div>
</div>
<p>On default, xLearn will use the logistic regression (LR) to train our model within 10 epoch.</p>
<p>We can see that a new file called <code class="docutils literal"><span class="pre">small_train.txt.model</span></code> has been generated in current directory.
This file stores the trainned model checkpoint, and we can use this model file to make prediction in
the future</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">xlearn_predict</span> <span class="o">./</span><span class="n">small_test</span><span class="o">.</span><span class="n">txt</span> <span class="o">./</span><span class="n">small_train</span><span class="o">.</span><span class="n">txt</span><span class="o">.</span><span class="n">model</span>
</pre></div>
</div>
<p>Then we can get a new file called <code class="docutils literal"><span class="pre">small_test.txt.out</span></code> in current directory. This is output
prediction result. Let’s see the first five lines of output by using the following command</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">head</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> <span class="o">./</span><span class="n">small_test</span><span class="o">.</span><span class="n">txt</span><span class="o">.</span><span class="n">out</span>

<span class="o">-</span><span class="mf">1.9872</span>
<span class="o">-</span><span class="mf">0.0707959</span>
<span class="o">-</span><span class="mf">0.456214</span>
<span class="o">-</span><span class="mf">0.170811</span>
<span class="o">-</span><span class="mf">1.28986</span>
</pre></div>
</div>
<p>These five lines of data is the prediction score calculated for every example in test set. The
negative data represents the negative example and positive data represents the positive example.
You can convert the score to (0-1) by using <code class="docutils literal"><span class="pre">--sigmoid</span></code> option, or you can convert your result
to bianry result (0 and 1) by using <code class="docutils literal"><span class="pre">--sign</span></code> option</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">xlearn_predict</span> <span class="o">./</span><span class="n">small_test</span><span class="o">.</span><span class="n">txt</span> <span class="o">./</span><span class="n">small_train</span><span class="o">.</span><span class="n">txt</span><span class="o">.</span><span class="n">model</span> <span class="o">--</span><span class="n">sigmoid</span>
<span class="n">head</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> <span class="o">./</span><span class="n">small_test</span><span class="o">.</span><span class="n">txt</span><span class="o">.</span><span class="n">out</span>

<span class="mf">0.120553</span>
<span class="mf">0.482308</span>
<span class="mf">0.387884</span>
<span class="mf">0.457401</span>
<span class="mf">0.215877</span>

<span class="o">./</span><span class="n">xlearn_predict</span> <span class="o">./</span><span class="n">small_test</span><span class="o">.</span><span class="n">txt</span> <span class="o">./</span><span class="n">small_train</span><span class="o">.</span><span class="n">txt</span><span class="o">.</span><span class="n">model</span> <span class="o">--</span><span class="n">sign</span>
<span class="n">head</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> <span class="o">./</span><span class="n">small_test</span><span class="o">.</span><span class="n">txt</span><span class="o">.</span><span class="n">out</span>

<span class="mi">0</span>
<span class="mi">0</span>
<span class="mi">0</span>
<span class="mi">0</span>
<span class="mi">0</span>
</pre></div>
</div>
<p>Users may generate many model files, so you can set the name of the model checkpoint file
by using <code class="docutils literal"><span class="pre">-m</span></code> option</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">xlearn_train</span> <span class="o">./</span><span class="n">small_train</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">m</span> <span class="n">model_1</span><span class="o">.</span><span class="n">bin</span>
<span class="o">./</span><span class="n">xlearn_train</span> <span class="o">./</span><span class="n">small_train</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">s</span> <span class="mi">1</span> <span class="o">-</span><span class="n">m</span> <span class="n">model_2</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
</div>
<div class="section" id="choose-machine-learning-model">
<h2>Choose Machine Learning Model<a class="headerlink" href="#choose-machine-learning-model" title="Permalink to this headline">¶</a></h2>
<p>For now, xLearn can support three different machine learning model, including LR, FM and FFM.
Users can choose different machine learning models by using <code class="docutils literal"><span class="pre">-s</span></code> option</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">s</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">:</span> <span class="n">Type</span> <span class="n">of</span> <span class="n">machine</span> <span class="n">learning</span> <span class="n">model</span> <span class="p">(</span><span class="n">default</span> <span class="mi">0</span><span class="p">)</span>
   <span class="k">for</span> <span class="n">classification</span> <span class="n">task</span><span class="p">:</span>
       <span class="mi">0</span> <span class="o">--</span> <span class="n">linear</span> <span class="n">model</span> <span class="p">(</span><span class="n">GLM</span><span class="p">)</span>
       <span class="mi">1</span> <span class="o">--</span> <span class="n">factorization</span> <span class="n">machines</span> <span class="p">(</span><span class="n">FM</span><span class="p">)</span>
       <span class="mi">2</span> <span class="o">--</span> <span class="n">field</span><span class="o">-</span><span class="n">aware</span> <span class="n">factorization</span> <span class="n">machines</span> <span class="p">(</span><span class="n">FFM</span><span class="p">)</span>
   <span class="k">for</span> <span class="n">regression</span> <span class="n">task</span><span class="p">:</span>
       <span class="mi">3</span> <span class="o">--</span> <span class="n">linear</span> <span class="n">model</span> <span class="p">(</span><span class="n">GLM</span><span class="p">)</span>
       <span class="mi">4</span> <span class="o">--</span> <span class="n">factorization</span> <span class="n">machines</span> <span class="p">(</span><span class="n">FM</span><span class="p">)</span>
       <span class="mi">5</span> <span class="o">--</span> <span class="n">field</span><span class="o">-</span><span class="n">aware</span> <span class="n">factorization</span> <span class="n">machines</span> <span class="p">(</span><span class="n">FFM</span><span class="p">)</span>
</pre></div>
</div>
<p>For LR and FM, the input data can be <code class="docutils literal"><span class="pre">CSV</span></code> or <code class="docutils literal"><span class="pre">libsvm</span></code> data format, while for FFM, the
input data should be the <code class="docutils literal"><span class="pre">libffm</span></code> format. You can give a <code class="docutils literal"><span class="pre">libffm</span></code> file to LR and FM. At that
time, xLearn will treat this data as <code class="docutils literal"><span class="pre">libsvm</span></code> format</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">xlearn_train</span> <span class="o">./</span><span class="n">small_train</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">s</span> <span class="mi">0</span>  <span class="c1"># Using linear model</span>
<span class="o">./</span><span class="n">xlearn_train</span> <span class="o">./</span><span class="n">small_train</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">s</span> <span class="mi">1</span>  <span class="c1"># Using factorization machine (FM)</span>
<span class="o">./</span><span class="n">xlearn_train</span> <span class="o">./</span><span class="n">small_train</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">s</span> <span class="mi">2</span>  <span class="c1"># Using field-awre factorization machine (FFM)</span>
</pre></div>
</div>
</div>
<div class="section" id="set-validation-dataset">
<h2>Set Validation Dataset<a class="headerlink" href="#set-validation-dataset" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><div class="toctree-wrapper compound">
</div>
</div></blockquote>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="python_api.html" class="btn btn-neutral float-right" title="xLearn Python API Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install_cmake.html" class="btn btn-neutral" title="Install GCC or Clang" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Chao Ma.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>